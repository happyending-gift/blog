---
title: 虚拟机
---

## 类加载过程

### 加载（Loading）
将class文件的二进制字节流所代表的静态存储结构转化为方法区运行时的数据结构。
### 连接（验证、准备、解析）
验证：确保 .class 文件中的字节流包含的信息符合当前虚拟机的要求

准备：为类中的静态字段分配内存，并设置默认的初始值（如 int 类型初始值是 0）。 被 final 修饰的 static 字段不会设置，因为 final 在编译的时候就分配了。

解析：解析阶段是虚拟机将常量池的符号引用直接替换为直接引用的过程。

### 初始化
初始化阶段简单来说就是执行类的构造器方法，不是开发者写的，而是编译器自动生成的。

### 使用 
### 卸载

## GC

| 垃圾收集器                  | 类型     | 作用域          | 使用算法         | 特点         | 适用场景                             |
|---------------------------|--------|--------------|--------------|------------|----------------------------------|
| Serial                   | 串行回收 | 新生代         | 复制算法         | 响应速度优先   | 适用于单核 CPU 环境下的 Client 模式       |
| Serial Old               | 串行回收 | 老年代         | 标记-压缩算法     | 响应速度优先   | 适用于单核 CPU 环境下的 Client 模式       |
| ParNew                  | 并行回收 | 新生代         | 复制算法         | 响应速度优先   | 多核 CPU 环境中 Server 模式下与 CMS 配合使用 |
| Parallel Scavenge        | 并行回收 | 新生代         | 复制算法         | 吞吐量优先     | 适用于后台运算，而交互少的场景            |
| Parallel Old             | 并行回收 | 老年代         | 标记-压缩算法     | 吞吐量优先     | 适用于后台运算，而交互少的场景            |
| CMS(Concurrent Mark-Sweep) | 并发回收 | 老年代         | 标记-清除算法     | 响应速度优先   | 适用于 B/S 业务，也就是交互多的场景         |
| G1(Garbage-First)        | 并发, 并行回收 | 新生代 & 老年代(整堆收集器) | 复制算法 & 标记-压缩算法 | 响应速度优先   | 面向服务端的应用                       |
