---
title: java基础
author: chengp
---

## 引用拷贝、深拷贝、浅拷贝

### 引用拷贝
- 拷贝引用，两个不同的引用指向同一个对象。

### 深拷贝
- 完全复制整个对象，包括这个对象所包含的内部对象。

### 浅拷贝
- 在堆上创建一个新的对象。
- 如果原对象内部的属性是引用类型，浅拷贝会直接复制内部对象的引用地址。

## String、StringBuilder、StringBuffer

### 可变性
- String：内部的 value 值是 char 数组，被 final 修饰，不可变。
- StringBuilder 和 StringBuffer：可变。

### 安全性
-  String：由于不可变，所以是安全的。
-  StringBuilder：不是线程安全的。
-  StringBuffer：因为加了锁，所以是线程安全的。

### 性能方面
- 使用String进行拼接时需要创建新对象，性能最差。
- StringBuffer因为加了锁影响性能，所以比StringBuilder性能差。

---

## 自动拆装箱

### 装箱
- 将基本类型用它们对应的引用类型包装起来。

### 拆箱
- 将包装类型转换为基本数据类型。

---

## 重载、重写

### 重载
- 同样的一个方法能够根据输入数据的不同，做出不同的处理。

### 重写
- 当子类继承自父类的相同方法，输入数据一样，但要做出有别于父类的响应时，覆盖父类方法。

---

## Char、Varchar

### 可变性
-  Char：不可变长度，数据长度不足会空格补充。
-  Varchar：可变长度。

### 性能方面
- Char：不可变长度，性能更佳。
- Varchar：更省空间。

### 使用
- Char：适用于记录固定表单数据，如身份证。
- Varchar：适用于记录不固定数据，如昵称。

---

## == 和 equals 的区别

### ==
- 比较栈中的值。
    - 基本数据类型：比较数值是否相等。
    - 引用数据类型：比较对象的内存地址是否相等。

### equals
- 重写前跟==一致。
- 重写后比较对象的内容是否相同。

---

## String.intern()

将指定的字符串对象的引用保存在字符串常量池中，可以简单分为两种情况：
- 如果字符串常量池中保存了对应的字符串对象的引用，就直接返回该引用。
- 如果字符串常量池中没有保存对应的字符串对象的引用，那就在常量池中创建一个指向该字符串对象的引用，并返回该引用。


## Static 关键字

static关键字用于修饰成员变量、方法体、内部类、代码块和静态导包。

### 静态导包
- 允许直接使用类的方法，就像它是类自己的方法一样。

### 内部类
- 可以直接使用内部类，而不需要外部类。

## Java 异常类型及原理

Throwable有两个直接的子类：Error 和Exception。

Error
- 无法恢复的错误，程序员不需要处理。

Exception
- 可恢复的异常，分为 RuntimeException和其他 Exception。
  - **RuntimeException**：处理或不处理都可以。
  - **其他 Exception**：Java 编译器要求程序必须捕获或抛出这种异常。

## 字节流与字符流的区别

| 特性         | 字节流                          | 字符流                          |
|------------|-------------------------------|-------------------------------|
| 操作基本单元  | 字节 (byte)                    | 字符 (char)                    |
| 是否使用缓冲  | 否                            | 是                            |
| 存在位置      | 可存在于文件、内存中            | 只存在于内存中                  |
| 使用场景      | 适合操作文本文件之外的文件      | 适合操作文本文件时使用，自动处理字符编码和解码 |

## Java 访问权限

| 访问修饰符 | 访问范围                           |
|----------|----------------------------------|
| public  | 内部成员、子类、同包其他类、其他包   |
| protected | 内部成员、子类、同包其他类         |
| default | 内部成员、同包其他类               |
| private  | 内部成员                         |

## 接口知识

### JDK 8 新特性
- **default 方法**：接口中可以包含方法体，修改接口时需要修改所有实现该接口的类。
- **static 方法**：static 修饰的方法可以放入接口中，可以直接用 <接口名.方法名()> 的形式调用。

### 匿名内部类
- 用于创建没有名称的类的实例。

## Java 中 Integer 对象的自动装箱和 == 操作符

- 在 Java 中，Integer 对象使用了一个叫做 IntegerCache 的技术，
- 它缓存了数值在 -128 到 127 之间（包含 -128 和 127）的 Integer 对象。
- 这意味着在这个范围内的 Integer 对象都只有一个唯一的实例。